import{b as m,d as L,e as v}from"./products-data-K11yznnQ.js";import S from"https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.mjs";function T(t){return new URLSearchParams(window.location.search).get(t)}function E(t){if(!t){document.querySelector(".product").innerHTML='<div class="container">Товар не найден</div>';return}document.title=t.title;const i=document.querySelector(".swiper-wrapper");i.innerHTML="",t.images.forEach((n,o)=>{const r=document.createElement("div");r.className="swiper-slide",r.innerHTML=`<img src="${n}" alt="${t.title} ${o+1}" />`,i.appendChild(r)});const c=document.querySelector(".labels");if(c.innerHTML="",t.labels.forEach((n,o)=>{const r=document.createElement("div");r.className=`label label-${t.labelColors[o]}`,r.innerHTML=`
      <span>${n}</span>
      <svg width="14" height="14" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
        <path d="M9 18L15 12L9 6" stroke="currentColor" stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round"/>
      </svg>
    `,c.appendChild(r)}),document.querySelector(".title").textContent=t.title,document.querySelector(".category").textContent=t.category,document.querySelector(".price-value").innerHTML=m(t.price),t.oldPrice){const n=t.oldPrice.toString();let o="";for(let r=n.length-1,s=0;r>=0;r--,s++)s>0&&s%3===0&&(o=" "+o),o=n[r]+o;document.querySelector(".price-old").innerHTML=`<span style="text-decoration: line-through;">${o}</span> <span style="font-size: 0.8em;">₽</span>`,document.querySelector(".price-old").style.display="inline"}else document.querySelector(".price-old").style.display="none";t.discount?(document.querySelector(".price-discount").textContent=t.discount,document.querySelector(".price-discount").style.display="inline"):document.querySelector(".price-discount").style.display="none";const a=document.querySelector(".price-usdt"),e=t.priceUSDT;if(e.includes("USDT")){const n=e.split(" USDT");a.innerHTML=`${n[0]} <span class="usdt-currency">USDT</span>`}else a.textContent=e;b(t),k(t),C(t),w(t)}function b(t){const i=document.querySelector("#variant-group");i.innerHTML="",t.variants.forEach((c,a)=>{const e=document.createElement("input");e.type="radio",e.name="variant",e.id=c.id,e.value=c.id,a===0&&(e.checked=!0,e.setAttribute("checked","checked"));const n=document.createElement("label");n.htmlFor=c.id,n.innerHTML=`<span>${c.name}</span>`,i.appendChild(e),i.appendChild(n)})}function k(t){const i=document.querySelector("#period-group");i.innerHTML="",i.classList.add("period-buttons"),t.periods.forEach((c,a)=>{const e=document.createElement("input");e.type="radio",e.name="period",e.id=c.id,e.value=c.id,a===0&&(e.checked=!0);const n=document.createElement("label");n.htmlFor=c.id;let o=`<span>${c.name}</span>`;c.discount&&(o+=`<div class="discount-badge">${c.discount}</div>`),n.innerHTML=o,i.appendChild(e),i.appendChild(n),e.addEventListener("change",()=>{e.checked&&(document.querySelector(".price-value").innerHTML=m(c.price))})})}function C(t){const i=document.querySelector("#edition-group");i.innerHTML="",t.editions.forEach((c,a)=>{const e=document.createElement("input");e.type="radio",e.name="edition",e.id=c.id,e.value=c.id,a===0&&(e.checked=!0);const n=document.createElement("label");n.htmlFor=c.id,n.innerHTML=`
      <div>
        <div>${c.name}</div>
        <div>${v(c.price)}</div>
      </div>
    `,i.appendChild(e),i.appendChild(n),e.addEventListener("change",()=>{e.checked&&(document.querySelector(".price-value").innerHTML=m(c.price))})})}function w(t){const i=document.querySelector(".tabs-content"),c=document.querySelectorAll(".tab");i.innerHTML=t.description,c.forEach((a,e)=>{a.addEventListener("click",()=>{c.forEach(n=>n.classList.remove("tab-selected")),a.classList.add("tab-selected"),e===0?i.innerHTML=t.description:e===1&&(i.innerHTML=t.systemRequirements)})})}function x(){const t=document.getElementById("checkout-toggle"),i=document.getElementById("checkout-header-text"),c=document.getElementById("checkout"),a=document.querySelector(".checkout-arrow"),e=document.getElementById("variant-group");document.getElementById("period-group"),document.getElementById("edition-group");let n=!1,o="Аккаунт";function r(){const d=e.querySelector('input[name="variant"]:checked');if(d){const l=e.querySelector(`label[for="${d.id}"] span`);return l?l.textContent.trim():"Аккаунт"}return"Аккаунт"}function s(){n?i.textContent="Выберите способ оформления":i.textContent=o}function p(){n=!1,e.classList.add("collapsing"),e.classList.remove("expanding"),setTimeout(()=>{c.classList.remove("expanded"),a.classList.remove("expanded"),e.classList.remove("expanded","collapsing")},150),o=r(),s()}function h(){n=!0,c.classList.add("expanded"),a.classList.add("expanded"),e.classList.add("expanded"),e.classList.add("expanding"),e.classList.remove("collapsing"),setTimeout(()=>{e.classList.remove("expanding")},400),s()}t.addEventListener("click",function(){n?p():h()});function g(){n&&(o=r(),p())}e.addEventListener("click",function(d){const l=d.target.closest('label[for^="variant-"]'),f=d.target.closest('input[name="variant"]');if(l||f){let u;if(l){const y=l.getAttribute("for");u=document.getElementById(y)}else u=f;u&&n&&(u.checked=!0,g())}}),o=r(),s()}function q(){new S(".swiper",{speed:400,slidesPerView:1,spaceBetween:30,loop:!0,touchRatio:1,touchAngle:45,grabCursor:!0,simulateTouch:!0,allowTouchMove:!0,touchStartPreventDefault:!1})}document.addEventListener("DOMContentLoaded",()=>{const t=T("product"),i=L(t);E(i),i&&setTimeout(()=>{q(),x()},100),i||setTimeout(()=>{window.location.href="/"},2e3)});
