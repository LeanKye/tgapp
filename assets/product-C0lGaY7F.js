import"./style-BMCvkB3U.js";import{a as x,f as B,e as k,h as D}from"./products-data-CdHFDYeL.js";class P{constructor(){this.activeModal=null,this.isDragging=!1,this.startY=0,this.currentY=0,this.startTime=0,this.velocity=0,this.modalHeight=0,this.screenHeight=0,this.closeThreshold=.15,this.velocityThreshold=.3,this.init()}init(){this.createLabelModal(),this.createWebMoneyModal()}createLabelModal(){if(document.getElementById("label-modal"))return;document.body.insertAdjacentHTML("beforeend",`
      <div id="label-modal" class="modal-overlay">
        <div class="modal-content">
          <div class="modal-header">
            <div id="modal-icon" class="modal-icon">üí°</div>
            <h3 id="modal-title" class="modal-title">–ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è</h3>
          </div>
          <div class="modal-body">
            <p id="modal-text" class="modal-text">–ó–∞–≥—Ä—É–∑–∫–∞...</p>
          </div>
          <div class="modal-footer">
            <button id="modal-close" class="modal-close">–ü–æ–Ω—è—Ç–Ω–æ</button>
          </div>
        </div>
      </div>
    `),this.setupModalEvents("label-modal")}createWebMoneyModal(){if(document.getElementById("webmoney-modal"))return;document.body.insertAdjacentHTML("beforeend",`
      <div id="webmoney-modal" class="webmoney-modal-overlay">
        <div class="webmoney-modal">
          <div class="webmoney-modal-header">
            <h3>–û–ø–ª–∞—Ç–∞ —á–µ—Ä–µ–∑ WebMoney</h3>
            <button class="webmoney-modal-close" aria-label="–ó–∞–∫—Ä—ã—Ç—å">&times;</button>
          </div>
          <div class="webmoney-modal-body">
            <div class="payment-details">
              <div class="payment-item">
                <span>–¢–æ–≤–∞—Ä:</span>
                <span id="modal-product-title">-</span>
              </div>
              <div class="payment-item">
                <span>–°–ø–æ—Å–æ–± –æ—Ñ–æ—Ä–º–ª–µ–Ω–∏—è:</span>
                <span id="modal-variant">-</span>
              </div>
              <div class="payment-item">
                <span>–ü–µ—Ä–∏–æ–¥:</span>
                <span id="modal-period">-</span>
              </div>
              <div class="payment-item">
                <span>–ü–ª–∞–Ω:</span>
                <span id="modal-edition">-</span>
              </div>
              <div class="payment-item total">
                <span>–ò—Ç–æ–≥–æ:</span>
                <span id="modal-price">-</span>
              </div>
            </div>
            <div class="webmoney-widget-container">
              <div id="wm-widget"></div>
            </div>
            <div class="payment-agreement-text">
              –ù–∞–∂–∏–º–∞—è –Ω–∞ –∫–Ω–æ–ø–∫—É, –≤—ã —Å–æ–≥–ª–∞—à–∞–µ—Ç–µ—Å—å —Å <a href="info.html#privacy" target="_blank">–ü–æ–ª–∏—Ç–∏–∫–æ–π –∫–æ–Ω—Ñ–∏–¥–µ–Ω—Ü–∏–∞–ª—å–Ω–æ—Å—Ç–∏</a>, –∞ —Ç–∞–∫–∂–µ —Å <a href="info.html#agreement" target="_blank">–õ–∏—Ü–µ–Ω–∑–∏–æ–Ω–Ω—ã–º —Å–æ–≥–ª–∞—à–µ–Ω–∏–µ–º</a>
            </div>
          </div>
        </div>
      </div>
    `),this.setupModalEvents("webmoney-modal")}setupModalEvents(e){const t=document.getElementById(e),o=t.querySelector(".modal-content, .webmoney-modal");!t||!o||t.dataset.eventsSetup!=="true"&&(this.setupCloseEvents(t,e),e==="label-modal"&&this.setupDragEvents(t,o),e==="webmoney-modal"&&this.setupWebMoneyCloseEvents(t),t.dataset.eventsSetup="true")}setupDragEvents(e,t){let o=!1,n=0,s=0,c=0,a=0,r=0,l=0;const h=d=>{d.touches.length===1&&(o=!0,n=d.touches[0].clientY,s=n,c=Date.now(),r=n,l=c,t.style.transition="none",e.style.transition="none",e.style.opacity="1",e.classList.add("dragging"))},m=d=>{if(!o)return;s=d.touches[0].clientY;const f=s-n;if(f>0){const b=Math.min(f,window.innerHeight*.5);t.style.transform=`translateY(${b}px)`;const S=Math.min(f/(window.innerHeight*this.closeThreshold),1);e.style.opacity=1-S*.3;const w=Date.now();w-l>0&&(a=(s-r)/(w-l),r=s,l=w)}d.preventDefault()},v=()=>{if(!o)return;o=!1;const d=s-n,f=window.innerHeight;d>f*this.closeThreshold||a>this.velocityThreshold&&d>50?this.closeModal(e.id):(t.style.transition="transform 0.3s cubic-bezier(0.25, 0.46, 0.45, 0.94)",e.style.transition="opacity 0.3s cubic-bezier(0.25, 0.46, 0.45, 0.94)",t.style.transform="translateY(0)",e.style.opacity="1",setTimeout(()=>{e.classList.remove("dragging")},300))},p=d=>{d.button===0&&(o=!0,n=d.clientY,s=n,c=Date.now(),r=n,l=c,t.style.transition="none",e.style.transition="none",e.style.opacity="1",e.classList.add("dragging"),document.addEventListener("mousemove",g),document.addEventListener("mouseup",u))},g=d=>{if(!o)return;s=d.clientY;const f=s-n;if(f>0){const b=Math.min(f,window.innerHeight*.5);t.style.transform=`translateY(${b}px)`;const S=Math.min(f/(window.innerHeight*this.closeThreshold),1);e.style.opacity=1-S*.3;const w=Date.now();w-l>0&&(a=(s-r)/(w-l),r=s,l=w)}},u=()=>{if(!o)return;o=!1;const d=s-n,f=window.innerHeight;d>f*this.closeThreshold||a>this.velocityThreshold&&d>50?this.closeModal(e.id):(t.style.transition="transform 0.3s cubic-bezier(0.25, 0.46, 0.45, 0.94)",e.style.transition="opacity 0.3s cubic-bezier(0.25, 0.46, 0.45, 0.94)",t.style.transform="translateY(0)",e.style.opacity="1",setTimeout(()=>{e.classList.remove("dragging")},300)),document.removeEventListener("mousemove",g),document.removeEventListener("mouseup",u)};t.addEventListener("touchstart",h,{passive:!1}),t.addEventListener("touchmove",m,{passive:!1}),t.addEventListener("touchend",v,{passive:!0}),t.addEventListener("mousedown",p)}setupCloseEvents(e,t){if(e.addEventListener("click",o=>{o.target===e&&this.closeModal(t)}),document.addEventListener("keydown",o=>{o.key==="Escape"&&e.classList.contains("show")&&this.closeModal(t)}),t==="label-modal"){const o=e.querySelector("#modal-close");o&&o.addEventListener("click",()=>{this.closeModal(t)})}}setupWebMoneyCloseEvents(e){const t=e.querySelector(".webmoney-modal-close");t&&t.addEventListener("click",()=>{this.closeModal("webmoney-modal")})}openModal(e,t={}){const o=document.getElementById(e);if(!o)return;if(this.activeModal=e,e==="label-modal"&&t.labelInfo){const s=o.querySelector("#modal-icon"),c=o.querySelector("#modal-title"),a=o.querySelector("#modal-text");s&&c&&a&&(s.textContent=t.labelInfo.icon,s.className=`modal-icon ${t.labelInfo.iconClass}`,c.textContent=t.labelInfo.title,a.textContent=t.labelInfo.description)}if(e==="webmoney-modal"&&t.paymentData){const s=o.querySelector("#modal-product-title"),c=o.querySelector("#modal-variant"),a=o.querySelector("#modal-period"),r=o.querySelector("#modal-edition"),l=o.querySelector("#modal-price");s&&c&&a&&r&&l&&(s.textContent=t.paymentData.productTitle||"-",c.textContent=t.paymentData.variant||"-",a.textContent=t.paymentData.period||"-",r.textContent=t.paymentData.edition||"-",l.innerHTML=t.paymentData.price||"-")}document.body.classList.add("modal-open"),document.body.style.overflow="hidden",o.style.opacity="1",o.style.transition="";const n=o.querySelector(".modal-content, .webmoney-modal");n&&(n.style.transform="",n.style.transition=""),o.classList.add("show"),this.setupModalEvents(e),e==="webmoney-modal"&&t.paymentData&&this.initWebMoneyWidget(t.paymentData)}closeModal(e){const t=document.getElementById(e);if(!t||t.classList.contains("closing"))return;t.classList.add("closing"),document.body.classList.remove("modal-open"),document.body.style.overflow="",t.classList.remove("show");const o=t.querySelector(".modal-content, .webmoney-modal");if(o&&(o.style.transform="",o.style.transition=""),t.style.opacity="",t.style.transition="",e==="webmoney-modal"){const n=document.getElementById("wm-widget");n&&(n.innerHTML="")}this.activeModal=null,t.classList.remove("closing")}initWebMoneyWidget(e){const t=document.getElementById("wm-widget");if(!t)return;t.innerHTML="";const o=`${e.productTitle} - ${e.variant}, ${e.period}, ${e.edition}`,n=this.generateOrderId(),s=Number(e.amount),c=()=>{if(window.webmoney&&window.webmoney.widgets){const a={data:{amount:s,purse:"T231993574772",desc:o,paymentType:"wm",lmi_payment_no:n,forcePay:!0,lmi_currency:"RUB",lmi_currency_code:"RUB",test:!0},style:{theme:"wm",showAmount:!0,titleNum:1,title:"",design:"flat"},lang:"ru"};window.webmoney.widgets().button.create(a).on("paymentComplete",r=>{const l={orderId:n,amount:s,description:o,webmoneyData:r};this.closeModal("webmoney-modal"),this.handlePaymentSuccess(l,e)}).mount("wm-widget")}else t.innerHTML='<div style="color: #888; text-align: center; padding: 20px;">–û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ –ø–ª–∞—Ç–µ–∂–Ω–æ–≥–æ –≤–∏–¥–∂–µ—Ç–∞</div>'};if(window.webmoney&&window.webmoney.widgets)c();else{let a=0;const r=10,l=setInterval(()=>{a++,window.webmoney&&window.webmoney.widgets?(clearInterval(l),c()):a>=r&&(clearInterval(l),t.innerHTML='<div style="color: #888; text-align: center; padding: 20px;">–û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ –ø–ª–∞—Ç–µ–∂–Ω–æ–≥–æ –≤–∏–¥–∂–µ—Ç–∞</div>')},500)}}handlePaymentSuccess(e,t){this.showSuccess(`‚úÖ –û–ø–ª–∞—Ç–∞ –ø—Ä–æ—à–ª–∞ —É—Å–ø–µ—à–Ω–æ! –ó–∞–∫–∞–∑ #${e.orderId}`),console.log("–ü–ª–∞—Ç–µ–∂ —É—Å–ø–µ—à–µ–Ω:",{result:e,paymentData:t})}generateOrderId(){const e=Date.now(),t=Math.floor(Math.random()*1e3);return`ORDER_${e}_${t}`}showMessage(e,t="info"){const o=document.createElement("div");o.className=`notification notification-${t}`,o.textContent=e,o.style.cssText=`
      position: fixed;
      top: 20px;
      left: 50%;
      transform: translateX(-50%);
      background: ${t==="success"?"#4CAF50":t==="error"?"#f44336":"#2196F3"};
      color: white;
      padding: 12px 24px;
      border-radius: 8px;
      font-size: 14px;
      font-weight: 500;
      z-index: 30000;
      box-shadow: 0 4px 12px rgba(0, 0, 0, 0.3);
      animation: slideInDown 0.3s ease;
    `,document.body.appendChild(o),setTimeout(()=>{o.style.animation="slideOutUp 0.3s ease",setTimeout(()=>{o.parentNode&&o.parentNode.removeChild(o)},300)},3e3)}showSuccess(e){this.showMessage(e,"success")}showError(e){this.showMessage(e,"error")}getLabelInfo(e){return{–ì–∞—Ä–∞–Ω—Ç–∏—è:{title:"–ì–∞—Ä–∞–Ω—Ç–∏—è –∫–∞—á–µ—Å—Ç–≤–∞",description:"–ú—ã –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ–º –≥–∞—Ä–∞–Ω—Ç–∏—é –Ω–∞ –≤—Å–µ —Ü–∏—Ñ—Ä–æ–≤—ã–µ —Ç–æ–≤–∞—Ä—ã. –í —Å–ª—É—á–∞–µ –≤–æ–∑–Ω–∏–∫–Ω–æ–≤–µ–Ω–∏—è –ø—Ä–æ–±–ª–µ–º —Å —Ä–∞–±–æ—Ç–æ—Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç—å—é –ø—Ä–æ–¥—É–∫—Ç–∞, –º—ã –±–µ—Å–ø–ª–∞—Ç–Ω–æ –∑–∞–º–µ–Ω–∏–º –µ–≥–æ –∏–ª–∏ –≤–µ—Ä–Ω–µ–º –¥–µ–Ω—å–≥–∏ –≤ —Ç–µ—á–µ–Ω–∏–µ 30 –¥–Ω–µ–π —Å –º–æ–º–µ–Ω—Ç–∞ –ø–æ–∫—É–ø–∫–∏.",icon:"üõ°Ô∏è",iconClass:"guarantee"},–õ–∏—Ü–µ–Ω–∑–∏—è:{title:"–û—Ñ–∏—Ü–∏–∞–ª—å–Ω–∞—è –ª–∏—Ü–µ–Ω–∑–∏—è",description:"–í—Å–µ –ø—Ä–æ–¥—É–∫—Ç—ã –ø–æ—Å—Ç–∞–≤–ª—è—é—Ç—Å—è —Å –æ—Ñ–∏—Ü–∏–∞–ª—å–Ω—ã–º–∏ –ª–∏—Ü–µ–Ω–∑–∏—è–º–∏ –æ—Ç –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—è. –í—ã –ø–æ–ª—É—á–∞–µ—Ç–µ –ø–æ–ª–Ω–æ—Å—Ç—å—é –ª–µ–≥–∞–ª—å–Ω—ã–π –∏ –∞–∫—Ç–∏–≤–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –ø—Ä–æ–¥—É–∫—Ç —Å –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å—é –ø–æ–ª—É—á–µ–Ω–∏—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏–π –∏ —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–æ–π –ø–æ–¥–¥–µ—Ä–∂–∫–∏.",icon:"üìú",iconClass:"license"},"–ù—É–∂–µ–Ω VPN":{title:"–¢—Ä–µ–±—É–µ—Ç—Å—è VPN",description:"–î–ª—è –∞–∫—Ç–∏–≤–∞—Ü–∏–∏ –∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –¥–∞–Ω–Ω–æ–≥–æ –ø—Ä–æ–¥—É–∫—Ç–∞ –º–æ–∂–µ—Ç –ø–æ—Ç—Ä–µ–±–æ–≤–∞—Ç—å—Å—è VPN-—Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ. –≠—Ç–æ —Å–≤—è–∑–∞–Ω–æ —Å —Ä–µ–≥–∏–æ–Ω–∞–ª—å–Ω—ã–º–∏ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è–º–∏ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—è. –†–µ–∫–æ–º–µ–Ω–¥—É–µ–º –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –Ω–∞–¥–µ–∂–Ω—ã–µ VPN-—Å–µ—Ä–≤–∏—Å—ã.",icon:"üåê",iconClass:"vpn"}}[e]||{title:"–ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è",description:"–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –¥–∞–Ω–Ω–æ–º –ø—Ä–æ–¥—É–∫—Ç–µ.",icon:"üí°",iconClass:"guarantee"}}}function I(i){return new URLSearchParams(window.location.search).get(i)}function R(i){if(!i){document.querySelector(".product").innerHTML='<div class="container">–¢–æ–≤–∞—Ä –Ω–µ –Ω–∞–π–¥–µ–Ω</div>';return}document.title=i.title;const e=document.querySelector(".swiper-wrapper"),t=document.querySelector(".swiper");e.innerHTML="";const o=document.querySelector(".slider-indicators");o&&o.remove(),t&&t.classList.remove("slider-initialized"),i.images.forEach((a,r)=>{const l=document.createElement("div");l.className="swiper-slide",l.innerHTML=`<img src="${a}" alt="${i.title} ${r+1}" />`,e.appendChild(l)}),setTimeout(()=>{U()},10);const n=document.querySelector(".labels");n.innerHTML="",i.labels.forEach((a,r)=>{const l=document.createElement("div");l.className=`label label-${i.labelColors[r]}`,l.innerHTML=`
      <span>${a}</span>
      <svg width="14" height="14" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
        <path d="M9 18L15 12L9 6" stroke="currentColor" stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round"/>
      </svg>
    `,l.addEventListener("click",()=>{V(a)}),n.appendChild(l)}),document.querySelector(".title").textContent=i.title,document.querySelector(".category").textContent=i.category,document.querySelector(".price-value").innerHTML=x(i.price),i.oldPrice?(document.querySelector(".price-old").innerHTML=B(i.oldPrice,"‚ÇΩ",!0),document.querySelector(".price-old").style.display="inline"):document.querySelector(".price-old").style.display="none",i.discount?(document.querySelector(".price-discount").textContent=i.discount,document.querySelector(".price-discount").style.display="inline"):document.querySelector(".price-discount").style.display="none";const s=document.querySelector(".price-usdt"),c=i.priceUSDT;if(c.includes("USDT")){const a=c.split(" USDT");s.innerHTML=`${a[0]} <span class="usdt-currency">USDT</span>`}else s.textContent=c;Y(i),A(i),X(i),z(i),setTimeout(()=>{const a=document.querySelector(".tabs");if(a){const l=parseInt(a.getAttribute("data-active")||"0");(m=>{const v=document.querySelectorAll(".tab")[m];if(!v||!a)return;const p=v.getBoundingClientRect(),g=a.getBoundingClientRect(),u=p.left-g.left,d=p.width;a.style.setProperty("--tab-indicator-left",`${u}px`),a.style.setProperty("--tab-indicator-width",`${d}px`)})(l)}[document.querySelector("#variant-group"),document.querySelector("#period-group"),document.querySelector("#edition-group")].forEach(l=>{if(l){const h=l.querySelector("input:checked");if(h){const m=l.querySelector(`label[for="${h.id}"]`);m&&C(l,m)}}})},100)}function C(i,e){if(!i||!e)return;const t=i.getBoundingClientRect(),o=e.getBoundingClientRect(),n=i.scrollLeft,s=getComputedStyle(i),c=parseInt(s.paddingLeft)||0,a=parseInt(s.paddingRight)||0;let r=0;s.gap?r=parseInt(s.gap)||0:s.columnGap&&(r=parseInt(s.columnGap)||0);const l=o.left-t.left+n,h=l+o.width,m=t.width;if(l>=n+c-r&&h<=n+m-a+r)return;let p=n;h>n+m-a?p=h-m+a+r:l<n+c&&(p=l-c-r);const g=i.scrollWidth-m;p=Math.max(0,Math.min(p,g)),p!==n&&i.scrollTo({left:p,behavior:"smooth"})}function Y(i){const e=document.querySelector("#variant-group");e.innerHTML="",i.variants.forEach((t,o)=>{const n=document.createElement("input");n.type="radio",n.name="variant",n.id=t.id,n.value=t.id,o===0&&(n.checked=!0,n.setAttribute("checked","checked"));const s=document.createElement("label");s.htmlFor=t.id,s.innerHTML=`<span>${t.name}</span>`,e.appendChild(n),e.appendChild(s),n.addEventListener("change",()=>{n.checked&&C(e,s)})})}function A(i){const e=document.querySelector("#period-group");e.innerHTML="",e.classList.add("period-buttons"),i.periods.forEach((t,o)=>{const n=document.createElement("input");n.type="radio",n.name="period",n.id=t.id,n.value=t.id,o===0&&(n.checked=!0);const s=document.createElement("label");s.htmlFor=t.id;let c=`<span>${t.name}</span>`;t.discount&&(c+=`<div class="discount-badge">${t.discount}</div>`),s.innerHTML=c,e.appendChild(n),e.appendChild(s),n.addEventListener("change",()=>{n.checked&&(document.querySelector(".price-value").innerHTML=x(t.price),C(e,s))})})}function X(i){const e=document.querySelector("#edition-group");e.innerHTML="",i.editions.forEach((t,o)=>{const n=document.createElement("input");n.type="radio",n.name="edition",n.id=t.id,n.value=t.id,o===0&&(n.checked=!0);const s=document.createElement("label");s.htmlFor=t.id,s.innerHTML=`
      <div>
        <div>${t.name}</div>
        <div>${D(t.price)}</div>
      </div>
    `,e.appendChild(n),e.appendChild(s),n.addEventListener("change",()=>{n.checked&&(document.querySelector(".price-value").innerHTML=x(t.price),C(e,s))})})}function z(i){const e=document.querySelector(".tabs-content"),t=document.querySelectorAll(".tab"),o=document.querySelector(".tabs");e.innerHTML=`<div class="tabs-content-inner fade-in">${i.description}</div>`,o.setAttribute("data-active","0");function n(s){const c=t[s],a=document.querySelector(".tabs");if(!c||!a)return;const r=c.getBoundingClientRect(),l=a.getBoundingClientRect(),h=r.left-l.left,m=r.width;a.style.setProperty("--tab-indicator-left",`${h}px`),a.style.setProperty("--tab-indicator-width",`${m}px`)}setTimeout(()=>{n(0)},0),t.forEach((s,c)=>{s.addEventListener("click",()=>{t.forEach(a=>a.classList.remove("tab-selected")),s.classList.add("tab-selected"),o.setAttribute("data-active",c.toString()),n(c),N(e,c===0?i.description:i.systemRequirements)})}),window.addEventListener("resize",()=>{const s=parseInt(o.getAttribute("data-active")||"0");n(s)}),window.addEventListener("orientationchange",()=>{setTimeout(()=>{const s=parseInt(o.getAttribute("data-active")||"0");n(s)},100)}),window.addEventListener("resize",()=>{[document.querySelector("#variant-group"),document.querySelector("#period-group"),document.querySelector("#edition-group")].forEach(c=>{if(c){const a=c.querySelector("input:checked");if(a){const r=c.querySelector(`label[for="${a.id}"]`);r&&setTimeout(()=>{C(c,r)},50)}}})}),window.addEventListener("orientationchange",()=>{setTimeout(()=>{[document.querySelector("#variant-group"),document.querySelector("#period-group"),document.querySelector("#edition-group")].forEach(c=>{if(c){const a=c.querySelector("input:checked");if(a){const r=c.querySelector(`label[for="${a.id}"]`);r&&C(c,r)}}})},100)})}function N(i,e){const t=i.querySelector(".tabs-content-inner");if(!t){i.innerHTML=`<div class="tabs-content-inner fade-in">${e}</div>`;return}const o=i.offsetHeight;i.style.height=o+"px",i.style.overflow="hidden",i.style.transition="height 0.25s cubic-bezier(0.4, 0, 0.2, 1)";const n=document.createElement("div");n.className="tabs-content-inner",n.style.position="absolute",n.style.visibility="hidden",n.style.width=i.offsetWidth+"px",n.style.padding=getComputedStyle(i).padding,n.style.fontSize=getComputedStyle(i).fontSize,n.style.lineHeight=getComputedStyle(i).lineHeight,n.innerHTML=e,i.parentNode.appendChild(n);const s=n.offsetHeight;i.parentNode.removeChild(n),t.classList.add("fade-out"),setTimeout(()=>{t.innerHTML=e,t.classList.remove("fade-out"),t.classList.add("fade-in"),requestAnimationFrame(()=>{i.style.height=s+"px",setTimeout(()=>{i.style.height="",i.style.overflow="",i.style.transition=""},250)})},125)}function W(){const i=document.getElementById("checkout-toggle"),e=document.getElementById("checkout-header-text"),t=document.getElementById("checkout"),o=document.querySelector(".checkout-arrow"),n=document.getElementById("variant-group"),s=document.getElementById("period-group"),c=document.getElementById("edition-group");let a=!1,r="–ê–∫–∫–∞—É–Ω—Ç";function l(){const u=n.querySelector('input[name="variant"]:checked');if(u){const d=n.querySelector(`label[for="${u.id}"] span`);return d?d.textContent.trim():"–ê–∫–∫–∞—É–Ω—Ç"}return"–ê–∫–∫–∞—É–Ω—Ç"}function h(){a?e.textContent="–í—ã–±–µ—Ä–∏—Ç–µ —Å–ø–æ—Å–æ–± –æ—Ñ–æ—Ä–º–ª–µ–Ω–∏—è":e.textContent=r}function m(u=!1){a=!1,r=l(),u&&v(),n.classList.add("collapsing"),n.classList.remove("expanding"),t.classList.remove("expanded"),o.classList.remove("expanded"),s.classList.remove("inactive"),c.classList.remove("inactive"),setTimeout(()=>{n.classList.remove("expanded","collapsing")},300),h()}function v(){t.classList.add("selection-made"),e.textContent,e.textContent=`‚úì ${r}`,setTimeout(()=>{t.classList.remove("selection-made")},500)}function p(){a=!0,t.classList.add("expanded"),o.classList.add("expanded"),n.classList.add("expanded"),s.classList.add("inactive"),c.classList.add("inactive"),n.classList.add("expanding"),n.classList.remove("collapsing"),setTimeout(()=>{n.classList.remove("expanding")},400),h()}i.addEventListener("click",function(u){const d=u.target.id==="checkout-header-text"||u.target.closest("#checkout-header-text"),f=u.target.classList.contains("checkout-arrow")||u.target.closest(".checkout-arrow");(d||f)&&(a?m():p())});function g(){a&&m(!0)}n.addEventListener("click",function(u){const d=u.target.closest('label[for^="variant-"]'),f=u.target.closest('input[name="variant"]');if(d||f){let b;if(d){const S=d.getAttribute("for");b=document.getElementById(S)}else b=f;b&&a&&(b.checked=!0,g())}}),r=l(),h()}function U(){const i=document.querySelector(".swiper"),e=document.querySelector(".swiper-wrapper");let t=document.querySelectorAll(".swiper-slide");if(!i||!e||t.length===0||i.classList.contains("slider-initialized"))return;if(t.length>1){const r=t[t.length-1].cloneNode(!0);r.classList.add("cloned"),e.insertBefore(r,e.firstChild);const l=t[0].cloneNode(!0);l.classList.add("cloned"),e.appendChild(l),t=document.querySelectorAll(".swiper-slide")}let o=1,n=!1;const s=t.length,c=s-2;e.style.transform=`translateX(-${o*100}%)`,e.style.transition="transform 0.3s ease",i.classList.add("slider-initialized");function a(r){n||(n=!0,o=r,e.style.transform=`translateX(-${o*100}%)`,setTimeout(()=>{o===0?(e.style.transition="none",o=c,e.style.transform=`translateX(-${o*100}%)`,setTimeout(()=>{e.style.transition="transform 0.3s ease"},10)):o===s-1&&(e.style.transition="none",o=1,e.style.transform=`translateX(-${o*100}%)`,setTimeout(()=>{e.style.transition="transform 0.3s ease"},10)),n=!1},300))}if(t.length>1){let b=function(y){if(n||u){y.preventDefault();return}p&&(p=!1,e.style.transition="transform 0.3s ease",e.style.transform=`translateX(-${o*100}%)`),l=y.touches[0].clientX,h=y.touches[0].clientY,m=l,v=h,p=!0,g=Date.now(),d=null,f=!1,e.style.transition="none"},S=function(y){if(!p||n||u)return;m=y.touches[0].clientX,v=y.touches[0].clientY;const M=Math.abs(m-l),L=Math.abs(v-h);if(!f&&(M>10||L>10)&&(f=!0,M>L*1.5?d="horizontal":L>M*1.5&&(d="vertical")),d==="horizontal"){const E=m-l,H=-o*100+E/i.offsetWidth*100;e.style.transform=`translateX(${H}%)`,y.preventDefault()}},w=function(){if(!(!p||n||u)){if(p=!1,u=!0,e.style.transition="transform 0.3s ease",d==="horizontal"){const y=m-l,M=Date.now()-g,L=Math.abs(y)/M;Math.abs(y)>50||L>.3&&Math.abs(y)>20?y>0?a(o-1):a(o+1):e.style.transform=`translateX(-${o*100}%)`}else e.style.transform=`translateX(-${o*100}%)`;setTimeout(()=>{u=!1,l=0,h=0,m=0,v=0,g=0,d=null,f=!1},350)}},$=function(){p&&(p=!1,e.style.transition="transform 0.3s ease",e.style.transform=`translateX(-${o*100}%)`,setTimeout(()=>{u=!1,l=0,h=0,m=0,v=0,g=0,d=null,f=!1},350))};const r=/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)||"ontouchstart"in window||navigator.maxTouchPoints>0;let l=0,h=0,m=0,v=0,p=!1,g=0,u=!1,d=null,f=!1;if(i.addEventListener("touchstart",b,{passive:!1}),i.addEventListener("touchmove",S,{passive:!1}),i.addEventListener("touchend",w,{passive:!0}),i.addEventListener("touchcancel",$,{passive:!0}),!r){let y=function(M){if(p||n||u)return;const L=i.getBoundingClientRect(),E=M.clientX-L.left,q=L.width/2;E<q?a(o-1):a(o+1)};i.addEventListener("click",y)}}}let T;function V(i){if(!T)return;const e=T.getLabelInfo(i);T.openModal("label-modal",{labelInfo:e})}function F(){const i=document.querySelector(".add-to-cart");i&&i.addEventListener("click",_)}async function _(){const i=I("product"),e=k(i);if(!e){T?.showError("–¢–æ–≤–∞—Ä –Ω–µ –Ω–∞–π–¥–µ–Ω");return}const t=O();if(!t){T?.showError("–ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –≤—ã–±–µ—Ä–∏—Ç–µ –≤—Å–µ –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ –æ–ø—Ü–∏–∏");return}const o=G(e,t);j(e,t,o)}function O(){const i=document.querySelector('input[name="variant"]:checked'),e=document.querySelector('input[name="period"]:checked'),t=document.querySelector('input[name="edition"]:checked');if(!i||!e||!t)return null;const o=I("product"),n=k(o);if(!n)return null;const s=n.variants.find(r=>r.id===i.value),c=n.periods.find(r=>r.id===e.value),a=n.editions.find(r=>r.id===t.value);return{variant:s?s.name:"–ù–µ–∏–∑–≤–µ—Å—Ç–Ω–æ",period:c?c.name:"–ù–µ–∏–∑–≤–µ—Å—Ç–Ω–æ",edition:a?a.name:"–ù–µ–∏–∑–≤–µ—Å—Ç–Ω–æ",variantId:i.value,periodId:e.value,editionId:t.value}}function G(i,e){let t=i.price;const o=i.periods.find(s=>s.id===e.periodId),n=i.editions.find(s=>s.id===e.editionId);return o&&o.price&&(t=o.price),n&&n.price&&(t=n.price),t}function j(i,e,t){if(!T)return;const o=x(t),n={productTitle:i.title,variant:e.variant,period:e.period,edition:e.edition,price:o,amount:t};T.openModal("webmoney-modal",{paymentData:n})}document.addEventListener("DOMContentLoaded",()=>{T=new P;const i=I("product"),e=k(i);R(e),e&&setTimeout(()=>{W(),F()},100),e||setTimeout(()=>{window.location.href="/"},2e3)});
