import{f as m,b as T,d as S}from"./products-data-BrUnNE20.js";import E from"https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.mjs";function b(t){return new URLSearchParams(window.location.search).get(t)}function k(t){if(!t){document.querySelector(".product").innerHTML='<div class="container">Товар не найден</div>';return}document.title=t.title;const c=document.querySelector(".swiper-wrapper");c.innerHTML="",t.images.forEach((i,a)=>{const r=document.createElement("div");r.className="swiper-slide",r.innerHTML=`<img src="${i}" alt="${t.title} ${a+1}" />`,c.appendChild(r)});const n=document.querySelector(".labels");n.innerHTML="",t.labels.forEach((i,a)=>{const r=document.createElement("div");r.className=`label label-${t.labelColors[a]}`,r.innerHTML=`
      <span>${i}</span>
      <svg width="14" height="14" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
        <path d="M9 18L15 12L9 6" stroke="currentColor" stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round"/>
      </svg>
    `,n.appendChild(r)}),document.querySelector(".title").textContent=t.title,document.querySelector(".category").textContent=t.category,document.querySelector(".price-value").innerHTML=m(t.price),t.oldPrice?(document.querySelector(".price-old").innerHTML=m(t.oldPrice),document.querySelector(".price-old").style.display="inline"):document.querySelector(".price-old").style.display="none",t.discount?(document.querySelector(".price-discount").textContent=t.discount,document.querySelector(".price-discount").style.display="inline"):document.querySelector(".price-discount").style.display="none";const o=document.querySelector(".price-usdt"),e=t.priceUSDT;if(e.includes("USDT")){const i=e.split(" USDT");o.innerHTML=`${i[0]} <span class="usdt-currency">USDT</span>`}else o.textContent=e;C(t),w(t),q(t),x(t)}function C(t){const c=document.querySelector("#variant-group");c.innerHTML="",t.variants.forEach((n,o)=>{const e=document.createElement("input");e.type="radio",e.name="variant",e.id=n.id,e.value=n.id,o===0&&(e.checked=!0,e.setAttribute("checked","checked"));const i=document.createElement("label");i.htmlFor=n.id,i.innerHTML=`<span>${n.name}</span>`,c.appendChild(e),c.appendChild(i)})}function w(t){const c=document.querySelector("#period-group");c.innerHTML="",c.classList.add("period-buttons"),t.periods.forEach((n,o)=>{const e=document.createElement("input");e.type="radio",e.name="period",e.id=n.id,e.value=n.id,o===0&&(e.checked=!0);const i=document.createElement("label");i.htmlFor=n.id;let a=`<span>${n.name}</span>`;n.discount&&(a+=`<div class="discount-badge">${n.discount}</div>`),i.innerHTML=a,c.appendChild(e),c.appendChild(i),e.addEventListener("change",()=>{e.checked&&(document.querySelector(".price-value").innerHTML=m(n.price))})})}function q(t){const c=document.querySelector("#edition-group");c.innerHTML="",t.editions.forEach((n,o)=>{const e=document.createElement("input");e.type="radio",e.name="edition",e.id=n.id,e.value=n.id,o===0&&(e.checked=!0);const i=document.createElement("label");i.htmlFor=n.id,i.innerHTML=`
      <div>
        <div>${n.name}</div>
        <div>${S(n.price)}</div>
      </div>
    `,c.appendChild(e),c.appendChild(i),e.addEventListener("change",()=>{e.checked&&(document.querySelector(".price-value").innerHTML=m(n.price))})})}function x(t){const c=document.querySelector(".tabs-content"),n=document.querySelectorAll(".tab");c.innerHTML=t.description,n.forEach((o,e)=>{o.addEventListener("click",()=>{n.forEach(i=>i.classList.remove("tab-selected")),o.classList.add("tab-selected"),e===0?c.innerHTML=t.description:e===1&&(c.innerHTML=t.systemRequirements)})})}function M(){const t=document.getElementById("checkout-toggle"),c=document.getElementById("checkout-header-text"),n=document.getElementById("checkout"),o=document.querySelector(".checkout-arrow"),e=document.getElementById("variant-group"),i=document.getElementById("period-group"),a=document.getElementById("edition-group");let r=!1,d="Аккаунт";function p(){const l=e.querySelector('input[name="variant"]:checked');if(l){const s=e.querySelector(`label[for="${l.id}"] span`);return s?s.textContent.trim():"Аккаунт"}return"Аккаунт"}function f(){r?c.textContent="Выберите способ оформления":c.textContent=d}function h(){r=!1,e.classList.add("collapsing"),e.classList.remove("expanding"),setTimeout(()=>{n.classList.remove("expanded"),o.classList.remove("expanded"),e.classList.remove("expanded","collapsing"),i.classList.remove("inactive"),a.classList.remove("inactive")},150),d=p(),f()}function L(){r=!0,n.classList.add("expanded"),o.classList.add("expanded"),e.classList.add("expanded"),i.classList.add("inactive"),a.classList.add("inactive"),e.classList.add("expanding"),e.classList.remove("collapsing"),setTimeout(()=>{e.classList.remove("expanding")},400),f()}t.addEventListener("click",function(){r?h():L()});function y(){r&&(d=p(),h())}e.addEventListener("click",function(l){const s=l.target.closest('label[for^="variant-"]'),v=l.target.closest('input[name="variant"]');if(s||v){let u;if(s){const g=s.getAttribute("for");u=document.getElementById(g)}else u=v;u&&r&&(u.checked=!0,y())}}),d=p(),f()}function H(){new E(".swiper",{speed:400,slidesPerView:1,spaceBetween:30,loop:!0,touchRatio:1,touchAngle:45,grabCursor:!0,simulateTouch:!0,allowTouchMove:!0,touchStartPreventDefault:!1})}document.addEventListener("DOMContentLoaded",()=>{const t=b("product"),c=T(t);k(c),c&&setTimeout(()=>{H(),M()},100),c||setTimeout(()=>{window.location.href="/"},2e3)});
