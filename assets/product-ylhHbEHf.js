import{b as f,d as S,e as T}from"./products-data--zIP1wZ_.js";import E from"https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.mjs";function b(t){return new URLSearchParams(window.location.search).get(t)}function k(t){if(!t){document.querySelector(".product").innerHTML='<div class="container">Товар не найден</div>';return}document.title=t.title;const c=document.querySelector(".swiper-wrapper");c.innerHTML="",t.images.forEach((i,r)=>{const o=document.createElement("div");o.className="swiper-slide",o.innerHTML=`<img src="${i}" alt="${t.title} ${r+1}" />`,c.appendChild(o)});const n=document.querySelector(".labels");if(n.innerHTML="",t.labels.forEach((i,r)=>{const o=document.createElement("div");o.className=`label label-${t.labelColors[r]}`,o.innerHTML=`
      <span>${i}</span>
      <svg width="14" height="14" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
        <path d="M9 18L15 12L9 6" stroke="currentColor" stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round"/>
      </svg>
    `,n.appendChild(o)}),document.querySelector(".title").textContent=t.title,document.querySelector(".category").textContent=t.category,document.querySelector(".price-value").innerHTML=f(t.price),t.oldPrice){const i=t.oldPrice.toString();let r="";for(let o=i.length-1,s=0;o>=0;o--,s++)s>0&&s%3===0&&(r=" "+r),r=i[o]+r;document.querySelector(".price-old").innerHTML=`<span style="text-decoration: line-through;">${r}</span> <span style="font-size: 0.8em;">₽</span>`,document.querySelector(".price-old").style.display="inline"}else document.querySelector(".price-old").style.display="none";t.discount?(document.querySelector(".price-discount").textContent=t.discount,document.querySelector(".price-discount").style.display="inline"):document.querySelector(".price-discount").style.display="none";const a=document.querySelector(".price-usdt"),e=t.priceUSDT;if(e.includes("USDT")){const i=e.split(" USDT");a.innerHTML=`${i[0]} <span class="usdt-currency">USDT</span>`}else a.textContent=e;C(t),w(t),x(t),q(t)}function C(t){const c=document.querySelector("#variant-group");c.innerHTML="",t.variants.forEach((n,a)=>{const e=document.createElement("input");e.type="radio",e.name="variant",e.id=n.id,e.value=n.id,a===0&&(e.checked=!0,e.setAttribute("checked","checked"));const i=document.createElement("label");i.htmlFor=n.id,i.innerHTML=`<span>${n.name}</span>`,c.appendChild(e),c.appendChild(i)})}function w(t){const c=document.querySelector("#period-group");c.innerHTML="",c.classList.add("period-buttons"),t.periods.forEach((n,a)=>{const e=document.createElement("input");e.type="radio",e.name="period",e.id=n.id,e.value=n.id,a===0&&(e.checked=!0);const i=document.createElement("label");i.htmlFor=n.id;let r=`<span>${n.name}</span>`;n.discount&&(r+=`<div class="discount-badge">${n.discount}</div>`),i.innerHTML=r,c.appendChild(e),c.appendChild(i),e.addEventListener("change",()=>{e.checked&&(document.querySelector(".price-value").innerHTML=f(n.price))})})}function x(t){const c=document.querySelector("#edition-group");c.innerHTML="",t.editions.forEach((n,a)=>{const e=document.createElement("input");e.type="radio",e.name="edition",e.id=n.id,e.value=n.id,a===0&&(e.checked=!0);const i=document.createElement("label");i.htmlFor=n.id,i.innerHTML=`
      <div>
        <div>${n.name}</div>
        <div>${T(n.price)}</div>
      </div>
    `,c.appendChild(e),c.appendChild(i),e.addEventListener("change",()=>{e.checked&&(document.querySelector(".price-value").innerHTML=f(n.price))})})}function q(t){const c=document.querySelector(".tabs-content"),n=document.querySelectorAll(".tab");c.innerHTML=t.description,n.forEach((a,e)=>{a.addEventListener("click",()=>{n.forEach(i=>i.classList.remove("tab-selected")),a.classList.add("tab-selected"),e===0?c.innerHTML=t.description:e===1&&(c.innerHTML=t.systemRequirements)})})}function M(){const t=document.getElementById("checkout-toggle"),c=document.getElementById("checkout-header-text"),n=document.getElementById("checkout"),a=document.querySelector(".checkout-arrow"),e=document.getElementById("variant-group"),i=document.getElementById("period-group"),r=document.getElementById("edition-group");let o=!1,s="Аккаунт";function p(){const d=e.querySelector('input[name="variant"]:checked');if(d){const l=e.querySelector(`label[for="${d.id}"] span`);return l?l.textContent.trim():"Аккаунт"}return"Аккаунт"}function m(){o?c.textContent="Выберите способ оформления":c.textContent=s}function h(){o=!1,e.classList.add("collapsing"),e.classList.remove("expanding"),setTimeout(()=>{n.classList.remove("expanded"),a.classList.remove("expanded"),e.classList.remove("expanded","collapsing"),i.classList.remove("inactive"),r.classList.remove("inactive")},150),s=p(),m()}function g(){o=!0,n.classList.add("expanded"),a.classList.add("expanded"),e.classList.add("expanded"),i.classList.add("inactive"),r.classList.add("inactive"),e.classList.add("expanding"),e.classList.remove("collapsing"),setTimeout(()=>{e.classList.remove("expanding")},400),m()}t.addEventListener("click",function(){o?h():g()});function y(){o&&(s=p(),h())}e.addEventListener("click",function(d){const l=d.target.closest('label[for^="variant-"]'),v=d.target.closest('input[name="variant"]');if(l||v){let u;if(l){const L=l.getAttribute("for");u=document.getElementById(L)}else u=v;u&&o&&(u.checked=!0,y())}}),s=p(),m()}function H(){new E(".swiper",{speed:400,slidesPerView:1,spaceBetween:30,loop:!0,touchRatio:1,touchAngle:45,grabCursor:!0,simulateTouch:!0,allowTouchMove:!0,touchStartPreventDefault:!1})}document.addEventListener("DOMContentLoaded",()=>{const t=b("product"),c=S(t);k(c),c&&setTimeout(()=>{H(),M()},100),c||setTimeout(()=>{window.location.href="/"},2e3)});
